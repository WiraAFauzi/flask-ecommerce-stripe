{% extends "base.html" %}
{% block content %}

<h2 class="mb-4">Edit Product</h2>

<form
  method="POST"
  enctype="multipart/form-data"
  class="card p-4"
>
  <input
    name="name"
    class="form-control mb-2"
    value="{{ product.name }}"
    required
  >

  <textarea
    name="description"
    class="form-control mb-2"
  >{{ product.description }}</textarea>

  <input
    name="price"
    type="number"
    step="0.01"
    class="form-control mb-2"
    value="{{ product.price }}"
    required
  >

  <!-- CURRENT IMAGE PREVIEW -->
  {% if product.image %}
    <div class="mb-3">
      <small class="text-muted">Current image:</small><br>
      <img
        src="{{ url_for('static', filename='uploads/' + product.image) }}"
        style="max-height:120px; border-radius:8px;"
      >
    </div>
  {% endif %}

  <!-- UPLOAD NEW IMAGE -->
  <input
    type="file"
    name="image"
    class="form-control mb-3"
    accept="image/*"
  >

  <button class="btn btn-dark">Save Changes</button>
  <a href="/admin/products" class="btn btn-secondary">Cancel</a>
</form>

{% endblock %}
