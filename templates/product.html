{% extends "base.html" %}
{% block content %}

<div class="row">
  <div class="col-md-6 mb-4">
    <img
      src="{{ url_for('static', filename='images/' ~ product.image) }}"
      class="img-fluid rounded shadow-sm"
      alt="{{ product.name }}"
    >
  </div>

  <div class="col-md-6">
    <h2 class="mb-3">{{ product.name }}</h2>

    <h4 class="text-muted mb-3">
      ${{ "%.2f"|format(product.price) }}
    </h4>

    <p class="mb-4">
      {{ product.description }}
    </p>

    {% if current_user.is_authenticated %}
      <form method="POST" action="/orders">
        <input type="hidden" name="product_id" value="{{ product.id }}">

        <label class="form-label fw-bold">Quantity</label>
        <input
          type="number"
          name="quantity"
          class="form-control mb-3"
          value="1"
          min="1"
          required
        >

        <button class="btn btn-dark btn-lg w-100">
          Buy
        </button>
      </form>
    {% else %}
      <a href="/login" class="btn btn-outline-dark btn-lg">
        Login to Purchase
      </a>
    {% endif %}
  </div>
</div>

{% endblock %}
